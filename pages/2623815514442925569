<h1>
Java regex (to me) unexpected behaviour - Stack Overflow
<\h1>
<div class="question-status question-originals-of-duplicate">
<p>This question already has an answer here:</p>
<ul>
<li>
<a dir="ltr" href="/questions/26008728/matching-first-occurrence">Matching first occurrence?</a>
<span class="question-originals-answer-count">
                    1 answer
                </span>
</li>
</ul>
</div>
<p>I have the following Java code:</p>
<pre><code>Pattern p = Pattern.compile("#.*;", Pattern.DOTALL);
Matcher m = p.matcher("# $0 := Spec(x,y) with default {{\n System.out.println(x+y);\n }};");

while (m.find()) {
    System.out.println("Found: " + m.group() + ".");
}
</code></pre>
<p>And I get:</p>
<pre><code>Found: # $0 := Spec(x,y) with default {{
   System.out.println(x+y);
}};.
</code></pre>
<p>Which is exactly what I want. But with the above pattern I would expect it to match anything between <code>#</code> and the <em>first</em> semicolon <code>;</code>, not the last one. I.e., I would expect it to match <code>$0 := Spec(x,y) with default {{ System.out.println(x+y);</code>. How come it matches up to the last semicolon?</p>
<pre><code>Pattern p = Pattern.compile("#.*?;", Pattern.DOTALL);
</code></pre>
<p>Make your pattern non greedy by appending <code>?</code> after <code>*</code>.<code>*</code> is greedy and will consume the maximum it can.</p>